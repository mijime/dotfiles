#!/bin/bash

__clean__cmd=rm
__clean__prefix_cmd=
__clean__op=()
TRASH_DIR=~/.Trash

while [[ $# -gt 0 ]]
do
  case $1 in
    -v|--verbose)
      __clean__op=(${__clean__op[@]} -v)
      shift || break
      ;;
    -l|--list)
      __clean__cmd=find
      shift || break
      ;;
    --debug)
      __clean__prefix_cmd=echo
      shift || break
      ;;
    -d|--du|--disk-usage)
      __clean__cmd=du
      shift || break
      ;;
    -t|--time)
      __clean__prefix_cmd=time
      shift || break
      ;;
    *)
      echo "[ERROR] not match arguments: $1" 1>&2
      exit 2
      ;;
  esac
done

case ${__clean__cmd} in
  rm)
    ${__clean__prefix_cmd} rm -rf ${__clean__op[@]} "${TRASH_DIR}"
    ${__clean__prefix_cmd} mkdir -p "${TRASH_DIR}"
    ;;
  find)
    ${__clean__prefix_cmd} find "${TRASH_DIR}"
    ;;
  du)
    ${__clean__prefix_cmd} du "${TRASH_DIR}"
    ;;
esac

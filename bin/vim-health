#!/usr/bin/awk -f

BEGIN {
  tc=2
  if (TC > tc)
    tc=TC
  time=$TC
  record=""
  fmt="%.2f\t%04d %s\n"
}

/--- VIM STARTING ---/,/--- VIM STARTED ---/ {
  diff=$TC - time
  record=$0
  printf fmt, diff, NR, record
  time=$TC
}

END {
  printf fmt, diff, NR, record
}
